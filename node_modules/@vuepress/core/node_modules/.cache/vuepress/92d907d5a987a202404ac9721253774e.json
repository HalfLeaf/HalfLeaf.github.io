{"remainingRequest":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vuepress-theme-hope\\components\\Common.vue?vue&type=script&lang=ts&","dependencies":[{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vuepress-theme-hope\\components\\Common.vue","mtime":499162500000},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592788438647},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592788438647},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vue-loader\\lib\\index.js","mtime":1592788498951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBNaXhpbnMsIFByb3AsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgewogIFNpZGViYXJJdGVtLAogIFNpZGViYXJHcm91cEl0ZW0sCiAgU2lkZWJhckhlYWRlciwKICByZXNvbHZlU2lkZWJhckl0ZW1zLAp9IGZyb20gIi4uL3V0aWwvc2lkZWJhciI7CmltcG9ydCBHbG9iYWxFbmNyeXB0TWl4aW4gZnJvbSAiLi4vdXRpbC9nbG9iYWxFbmNyeXB0TWl4aW4iOwppbXBvcnQgTmF2YmFyIGZyb20gIkB0aGVtZS9jb21wb25lbnRzL05hdmJhci52dWUiOwppbXBvcnQgUGFzc3dvcmQgZnJvbSAiQHRoZW1lL2NvbXBvbmVudHMvUGFzc3dvcmQudnVlIjsKaW1wb3J0IHsgUGFnZUhlYWRlciB9IGZyb20gIkBtci1ob3BlL3Z1ZXByZXNzLXR5cGVzIjsKaW1wb3J0IFNpZGViYXIgZnJvbSAiQHRoZW1lL2NvbXBvbmVudHMvU2lkZWJhci52dWUiOwoKQENvbXBvbmVudCh7IGNvbXBvbmVudHM6IHsgUGFzc3dvcmQsIFNpZGViYXIsIE5hdmJhciB9IH0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1vbiBleHRlbmRzIE1peGlucyhHbG9iYWxFbmNyeXB0TWl4aW4pIHsKICBAUHJvcCh7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfSkKICBwcml2YXRlIHJlYWRvbmx5IG5hdmJhciE6IGJvb2xlYW47CgogIEBQcm9wKHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogdHJ1ZSB9KQogIHByaXZhdGUgcmVhZG9ubHkgc2lkZWJhciE6IGJvb2xlYW47CgogIHByaXZhdGUgaXNTaWRlYmFyT3BlbiA9IGZhbHNlOwoKICBwcml2YXRlIHRvdWNoU3RhcnQ6IHsgY2xpZW50WDogbnVtYmVyOyBjbGllbnRZOiBudW1iZXIgfSA9IHsKICAgIGNsaWVudFg6IDAsCiAgICBjbGllbnRZOiAwLAogIH07CgogIC8qKiDmmK/lkKblupTor6XlsZXnpLrlr7zoiKrmoI8gKi8KICBwcml2YXRlIGdldCBzaG93TmF2YmFyKCk6IGJvb2xlYW4gewogICAgaWYgKHRoaXMubmF2YmFyID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlOwoKICAgIGNvbnN0IHsgZnJvbnRtYXR0ZXIgfSA9IHRoaXMuJHBhZ2U7CgogICAgaWYgKGZyb250bWF0dGVyLm5hdmJhciA9PT0gZmFsc2UgfHwgdGhpcy4kdGhlbWVDb25maWcubmF2YmFyID09PSBmYWxzZSkKICAgICAgcmV0dXJuIGZhbHNlOwoKICAgIHJldHVybiBCb29sZWFuKAogICAgICB0aGlzLiR0aXRsZSB8fAogICAgICAgIHRoaXMuJHRoZW1lQ29uZmlnLmxvZ28gfHwKICAgICAgICB0aGlzLiR0aGVtZUNvbmZpZy5yZXBvIHx8CiAgICAgICAgdGhpcy4kdGhlbWVDb25maWcubmF2IHx8CiAgICAgICAgdGhpcy4kdGhlbWVMb2NhbGVDb25maWcubmF2CiAgICApOwogIH0KCiAgLyoqIOaYr+WQpuW6lOivpeWxleekuuS+p+i+ueagjyAqLwogIHByaXZhdGUgZ2V0IHNob3dTaWRlYmFyKCk6IGJvb2xlYW4gewogICAgaWYgKHRoaXMuc2lkZWJhciA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTsKCiAgICByZXR1cm4gKAogICAgICAhdGhpcy4kZnJvbnRtYXR0ZXIuaG9tZSAmJgogICAgICB0aGlzLiRmcm9udG1hdHRlci5zaWRlYmFyICE9PSBmYWxzZSAmJgogICAgICB0aGlzLnNpZGViYXJJdGVtcy5sZW5ndGggIT09IDAKICAgICk7CiAgfQoKICAvKiog5L6n6L655qCP5YaF5a65ICovCiAgcHJpdmF0ZSBnZXQgc2lkZWJhckl0ZW1zKCk6IFNpZGViYXJJdGVtW10gewogICAgaWYgKHRoaXMuc2lkZWJhciA9PT0gZmFsc2UpIHJldHVybiBbXTsKCiAgICByZXR1cm4gcmVzb2x2ZVNpZGViYXJJdGVtcyh0aGlzLiRwYWdlLCB0aGlzLiRzaXRlLCB0aGlzLiRsb2NhbGVQYXRoKTsKICB9CgogIC8qKiDpobXpnaIgQ2xhc3MgKi8KICBwcml2YXRlIGdldCBwYWdlQ2xhc3NlcygpOiBhbnkgewogICAgY29uc3QgdXNlclBhZ2VDbGFzcyA9IHRoaXMuJHBhZ2UuZnJvbnRtYXR0ZXIucGFnZUNsYXNzOwoKICAgIHJldHVybiBbCiAgICAgIHsKICAgICAgICAibm8tbmF2YmFyIjogIXRoaXMuc2hvd05hdmJhciwKICAgICAgICAic2lkZWJhci1vcGVuIjogdGhpcy5pc1NpZGViYXJPcGVuLAogICAgICAgICJuby1zaWRlYmFyIjogIXRoaXMuc2hvd1NpZGViYXIsCiAgICAgICAgImhhcy1hbmNob3IiOiB0aGlzLnNob3dBbmNob3IsCiAgICAgIH0sCiAgICAgIHVzZXJQYWdlQ2xhc3MsCiAgICBdOwogIH0KCiAgcHJpdmF0ZSBnZXQgaGVhZGVycygpIHsKICAgIHJldHVybiB0aGlzLmdldEhlYWRlcih0aGlzLnNpZGViYXJJdGVtcyk7CiAgfQoKICBwcml2YXRlIGdldCBzaG93QW5jaG9yKCkgewogICAgcmV0dXJuIHRoaXMuJHRoZW1lQ29uZmlnLmFuY2hvckRpc3BsYXkgIT09IGZhbHNlICYmIHRoaXMuaGVhZGVycy5sZW5ndGggPiAwOwogIH0KCiAgcHJvdGVjdGVkIG1vdW50ZWQoKTogdm9pZCB7CiAgICB0aGlzLiRyb3V0ZXIuYWZ0ZXJFYWNoKCgpID0+IHsKICAgICAgdGhpcy5pc1NpZGViYXJPcGVuID0gZmFsc2U7CiAgICB9KTsKICB9CgogIHByaXZhdGUgdG9nZ2xlU2lkZWJhcih0bzogYW55KTogdm9pZCB7CiAgICB0aGlzLmlzU2lkZWJhck9wZW4gPSB0eXBlb2YgdG8gPT09ICJib29sZWFuIiA/IHRvIDogIXRoaXMuaXNTaWRlYmFyT3BlbjsKICAgIHRoaXMuJGVtaXQoInRvZ2dsZS1zaWRlYmFyIiwgdGhpcy5pc1NpZGViYXJPcGVuKTsKICB9CgogIC8vIFNpZGUgc3dpcGUKICBwcml2YXRlIG9uVG91Y2hTdGFydChldmVudDogVG91Y2hFdmVudCk6IHZvaWQgewogICAgdGhpcy50b3VjaFN0YXJ0ID0gewogICAgICBjbGllbnRYOiBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYLAogICAgICBjbGllbnRZOiBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZLAogICAgfTsKICB9CgogIHByaXZhdGUgb25Ub3VjaEVuZChldmVudDogVG91Y2hFdmVudCk6IHZvaWQgewogICAgY29uc3QgZHggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIC0gdGhpcy50b3VjaFN0YXJ0LmNsaWVudFg7CiAgICBjb25zdCBkeSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgLSB0aGlzLnRvdWNoU3RhcnQuY2xpZW50WTsKCiAgICBpZiAoTWF0aC5hYnMoZHgpID4gTWF0aC5hYnMoZHkpICYmIE1hdGguYWJzKGR4KSA+IDQwKQogICAgICBpZiAoZHggPiAwICYmIHRoaXMudG91Y2hTdGFydC5jbGllbnRYIDw9IDgwKSB0aGlzLnRvZ2dsZVNpZGViYXIodHJ1ZSk7CiAgICAgIGVsc2UgdGhpcy50b2dnbGVTaWRlYmFyKGZhbHNlKTsKICB9CgogIHByaXZhdGUgZ2V0SGVhZGVyKGl0ZW1zOiBTaWRlYmFySXRlbVtdKTogU2lkZWJhckhlYWRlcltdIHsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2ldOwoKICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gImdyb3VwIikgewogICAgICAgIGNvbnN0IG1hdGNoaW5nOiBQYWdlSGVhZGVyW10gPSB0aGlzLmdldEhlYWRlcigKICAgICAgICAgIChpdGVtIGFzIFNpZGViYXJHcm91cEl0ZW0pLmNoaWxkcmVuCiAgICAgICAgKTsKCiAgICAgICAgaWYgKG1hdGNoaW5nLmxlbmd0aCAhPT0gMCkgcmV0dXJuIG1hdGNoaW5nOwogICAgICB9IGVsc2UgaWYgKAogICAgICAgIGl0ZW0udHlwZSA9PT0gInBhZ2UiICYmCiAgICAgICAgaXRlbS5oZWFkZXJzICYmCiAgICAgICAgaXRlbS5wYXRoID09PSB0aGlzLiRyb3V0ZS5wYXRoCiAgICAgICkKICAgICAgICByZXR1cm4gaXRlbS5oZWFkZXJzOwogICAgfQoKICAgIHJldHVybiBbXTsKICB9Cn0K"},{"version":3,"sources":["Common.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Common.vue","sourceRoot":"node_modules/vuepress-theme-hope/components","sourcesContent":["<template>\n  <div\n    :class=\"pageClasses\"\n    class=\"theme-container\"\n    @touchend=\"onTouchEnd\"\n    @touchstart=\"onTouchStart\"\n  >\n    <!-- 密码弹窗 -->\n    <Password v-if=\"globalEncrypted\" @enter=\"globalPasswordCheck\" />\n    <!-- 内容 -->\n    <template v-else>\n      <Navbar v-if=\"showNavbar\" @toggle-sidebar=\"toggleSidebar\" />\n\n      <div class=\"sidebar-mask\" @click=\"toggleSidebar(false)\" />\n\n      <Sidebar :items=\"sidebarItems\" @toggle-sidebar=\"toggleSidebar\">\n        <template #top>\n          <slot name=\"sidebar-top\" />\n        </template>\n        <template #center>\n          <slot name=\"sidebar-center\" />\n        </template>\n        <template #bottom>\n          <slot name=\"sidebar-bottom\" />\n        </template>\n      </Sidebar>\n\n      <slot :sidebar-items=\"sidebarItems\" :headers=\"headers\" />\n    </template>\n  </div>\n</template>\n\n<script lang='ts'>\nimport { Component, Mixins, Prop, Vue } from \"vue-property-decorator\";\nimport {\n  SidebarItem,\n  SidebarGroupItem,\n  SidebarHeader,\n  resolveSidebarItems,\n} from \"../util/sidebar\";\nimport GlobalEncryptMixin from \"../util/globalEncryptMixin\";\nimport Navbar from \"@theme/components/Navbar.vue\";\nimport Password from \"@theme/components/Password.vue\";\nimport { PageHeader } from \"@mr-hope/vuepress-types\";\nimport Sidebar from \"@theme/components/Sidebar.vue\";\n\n@Component({ components: { Password, Sidebar, Navbar } })\nexport default class Common extends Mixins(GlobalEncryptMixin) {\n  @Prop({ type: Boolean, default: true })\n  private readonly navbar!: boolean;\n\n  @Prop({ type: Boolean, default: true })\n  private readonly sidebar!: boolean;\n\n  private isSidebarOpen = false;\n\n  private touchStart: { clientX: number; clientY: number } = {\n    clientX: 0,\n    clientY: 0,\n  };\n\n  /** 是否应该展示导航栏 */\n  private get showNavbar(): boolean {\n    if (this.navbar === false) return false;\n\n    const { frontmatter } = this.$page;\n\n    if (frontmatter.navbar === false || this.$themeConfig.navbar === false)\n      return false;\n\n    return Boolean(\n      this.$title ||\n        this.$themeConfig.logo ||\n        this.$themeConfig.repo ||\n        this.$themeConfig.nav ||\n        this.$themeLocaleConfig.nav\n    );\n  }\n\n  /** 是否应该展示侧边栏 */\n  private get showSidebar(): boolean {\n    if (this.sidebar === false) return false;\n\n    return (\n      !this.$frontmatter.home &&\n      this.$frontmatter.sidebar !== false &&\n      this.sidebarItems.length !== 0\n    );\n  }\n\n  /** 侧边栏内容 */\n  private get sidebarItems(): SidebarItem[] {\n    if (this.sidebar === false) return [];\n\n    return resolveSidebarItems(this.$page, this.$site, this.$localePath);\n  }\n\n  /** 页面 Class */\n  private get pageClasses(): any {\n    const userPageClass = this.$page.frontmatter.pageClass;\n\n    return [\n      {\n        \"no-navbar\": !this.showNavbar,\n        \"sidebar-open\": this.isSidebarOpen,\n        \"no-sidebar\": !this.showSidebar,\n        \"has-anchor\": this.showAnchor,\n      },\n      userPageClass,\n    ];\n  }\n\n  private get headers() {\n    return this.getHeader(this.sidebarItems);\n  }\n\n  private get showAnchor() {\n    return this.$themeConfig.anchorDisplay !== false && this.headers.length > 0;\n  }\n\n  protected mounted(): void {\n    this.$router.afterEach(() => {\n      this.isSidebarOpen = false;\n    });\n  }\n\n  private toggleSidebar(to: any): void {\n    this.isSidebarOpen = typeof to === \"boolean\" ? to : !this.isSidebarOpen;\n    this.$emit(\"toggle-sidebar\", this.isSidebarOpen);\n  }\n\n  // Side swipe\n  private onTouchStart(event: TouchEvent): void {\n    this.touchStart = {\n      clientX: event.changedTouches[0].clientX,\n      clientY: event.changedTouches[0].clientY,\n    };\n  }\n\n  private onTouchEnd(event: TouchEvent): void {\n    const dx = event.changedTouches[0].clientX - this.touchStart.clientX;\n    const dy = event.changedTouches[0].clientY - this.touchStart.clientY;\n\n    if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > 40)\n      if (dx > 0 && this.touchStart.clientX <= 80) this.toggleSidebar(true);\n      else this.toggleSidebar(false);\n  }\n\n  private getHeader(items: SidebarItem[]): SidebarHeader[] {\n    for (let i = 0; i < items.length; i++) {\n      const item = items[i];\n\n      if (item.type === \"group\") {\n        const matching: PageHeader[] = this.getHeader(\n          (item as SidebarGroupItem).children\n        );\n\n        if (matching.length !== 0) return matching;\n      } else if (\n        item.type === \"page\" &&\n        item.headers &&\n        item.path === this.$route.path\n      )\n        return item.headers;\n    }\n\n    return [];\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.sidebar-mask\n  position fixed\n  z-index 9\n  top 0\n  left 0\n  width 100vw\n  height 100vh\n  display none\n\n  .theme-container.sidebar-open &\n    display block\n</style>\n"]}]}