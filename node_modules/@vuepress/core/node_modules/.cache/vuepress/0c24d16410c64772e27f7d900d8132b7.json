{"remainingRequest":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\@mr-hope\\vuepress-plugin-pwa\\src\\SWUpdatePopup.vue?vue&type=script&lang=ts&","dependencies":[{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\@mr-hope\\vuepress-plugin-pwa\\src\\SWUpdatePopup.vue","mtime":499162500000},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592788438647},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592788438647},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vue-loader\\lib\\index.js","mtime":1592788498951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgZXZlbnQgZnJvbSAiLi9ldmVudCI7CmltcG9ydCB7IGkxOG4gfSBmcm9tICJAbXItaG9wZS92dWVwcmVzcy1zaGFyZWQtdXRpbHMiOwoKQENvbXBvbmVudApleHBvcnQgZGVmYXVsdCBjbGFzcyBTV1VwZGF0ZVBvcHVwIGV4dGVuZHMgVnVlIHsKICBwcml2YXRlIHVwZGF0ZUV2ZW50OiBhbnkgPSBudWxsOwoKICBwcml2YXRlIGdldCBlbmFibGVkKCkgewogICAgcmV0dXJuIEJvb2xlYW4odGhpcy51cGRhdGVFdmVudCk7CiAgfQoKICBwcml2YXRlIGdldCBtZXNzYWdlKCkgewogICAgcmV0dXJuIGkxOG4uZ2V0TG9jYWxlKHRoaXMuJGxhbmcpLnB3YSB8fCBpMThuLmdldERlZmF1bHRMb2NhbGUoKS5wd2E7CiAgfQoKICBwcml2YXRlIGNyZWF0ZWQoKSB7CiAgICBldmVudC4kb24oInN3LXVwZGF0ZWQiLCB0aGlzLm9uU1dVcGRhdGVkKTsKICB9CgogIHByaXZhdGUgb25TV1VwZGF0ZWQodXBkYXRlRXZlbnQ6IGFueSkgewogICAgdGhpcy51cGRhdGVFdmVudCA9IHVwZGF0ZUV2ZW50OwogIH0KCiAgcHJpdmF0ZSByZWxvYWQoKSB7CiAgICBpZiAodGhpcy51cGRhdGVFdmVudCkgewogICAgICB0aGlzLnVwZGF0ZUV2ZW50LnNraXBXYWl0aW5nKCkudGhlbigoKSA9PiB7CiAgICAgICAgbG9jYXRpb24ucmVsb2FkKHRydWUpOwogICAgICB9KTsKICAgICAgdGhpcy51cGRhdGVFdmVudCA9IG51bGw7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["SWUpdatePopup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SWUpdatePopup.vue","sourceRoot":"node_modules/@mr-hope/vuepress-plugin-pwa/src","sourcesContent":["<template>\n  <transition name=\"sw-update-popup\">\n    <slot :reload=\"reload\" :enabled=\"enabled\" :message=\"message\">\n      <div v-if=\"enabled\" class=\"sw-update-popup\" @click=\"reload\">\n        <span class=\"text\">{{ message }}</span>\n        <span class=\"refresh\">\n          <svg\n            viewBox=\"0 0 1024 1024\"\n            version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"84\"\n            height=\"84\"\n          >\n            <path\n              d=\"M949.948959 146.249899l0 255.82655c0 21.980617-13.988596 35.969213-35.969213 35.969213l-255.82655\n              0c-13.988596 0-25.982768-7.992021-33.972742-21.980617-5.997598-13.988596-4.001127-27.977191\n              7.990998-39.97034l79.941704-77.945233c-55.954383-51.973722-121.917724-77.955466-199.862957-77.955466-37.974893 0-75.949786 8.002254-113.924679 21.99085-37.974893 15.984043-67.947532 37.974893-91.933829\n              63.956637-25.981744 23.986297-47.972595 53.958936-63.956637 91.933829-29.982872 73.954339-29.982872\n              153.895019 0 227.849358 15.984043 37.975916 37.974893 67.947532 63.956637 91.933829 23.986297 25.982768\n              53.958936 47.973618 91.933829 63.956637 37.974893 13.988596 75.949786 21.99085 113.924679 21.99085\n              45.966914 0 87.941911-9.997702 127.913275-29.981848 41.97602-17.989723 75.950809-45.966914\n              101.930507-83.942831 7.993045-4.001127 11.994172-5.995551 13.988596-5.995551 5.997598 0 9.998725\n              1.994424 13.988596 5.995551l77.957513 77.945233c3.988848 4.001127 5.986341 7.993045 5.986341\n              11.994172 0 1.994424-1.99647 5.995551-3.990894 11.994172-43.972491 51.962465-93.940532\n              91.933829-151.898549 117.91455-53.958936 25.982768-115.921149 39.971363-185.874361\n              39.971363-61.96119 0-119.921253-11.983939-169.889295-33.972742C284.40084 889.74325 236.438479\n              857.764931 202.464713\n              821.785485c-35.979446-33.972742-67.957765-81.936127-93.939509-139.897214-45.966914-101.930507-45.966914-237.846036 0-339.777567 25.981744-57.960063 57.960063-105.922425 93.939509-139.89619\n              33.973766-35.979446 81.936127-67.957765 139.89619-93.939509 49.968042-21.99085\n              107.928105-33.973766 169.889295-33.973766 55.963593 0 109.923552 9.987468 161.886017\n              29.972639 53.969169 21.99085 101.932554 51.963489 139.907447 89.938382l73.954339-73.944106c9.987468-9.997702 23.987321-13.988596 39.971363-8.002254C941.956937 120.268154 949.948959 132.261303\n              949.948959 146.249899z\"\n            />\n          </svg>\n        </span>\n      </div>\n    </slot>\n  </transition>\n</template>\n\n<script lang='ts'>\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport event from \"./event\";\nimport { i18n } from \"@mr-hope/vuepress-shared-utils\";\n\n@Component\nexport default class SWUpdatePopup extends Vue {\n  private updateEvent: any = null;\n\n  private get enabled() {\n    return Boolean(this.updateEvent);\n  }\n\n  private get message() {\n    return i18n.getLocale(this.$lang).pwa || i18n.getDefaultLocale().pwa;\n  }\n\n  private created() {\n    event.$on(\"sw-updated\", this.onSWUpdated);\n  }\n\n  private onSWUpdated(updateEvent: any) {\n    this.updateEvent = updateEvent;\n  }\n\n  private reload() {\n    if (this.updateEvent) {\n      this.updateEvent.skipWaiting().then(() => {\n        location.reload(true);\n      });\n      this.updateEvent = null;\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n@keyframes rotate\n  0%\n    -webkit-transform rotate(0deg)\n    transform rotate(0deg)\n\n  50%\n    -webkit-transform rotate(360deg)\n    transform rotate(360deg)\n\n  100%\n    -webkit-transform rotate(360deg)\n    transform rotate(360deg)\n\n.sw-update-popup\n  position fixed\n  right 1.5em\n  bottom 1.5em\n  padding 0.6em 0.75em\n  display flex\n  justify-content center\n  align-items center\n  border-radius 0.4em\n  color var(--text-color, $textColor)\n  background var(--background-color, #fff)\n  border 1px solid var(--grey12, #bbb)\n  z-index 2\n  cursor pointer\n\n  .text\n    font-size 0.9em\n\n  .refresh\n    width 1.5em\n    height 1.5em\n    margin-left 0.4em\n    background-color var(--accent-color, $accentColor)\n    border-radius 50%\n\n    svg\n      animation rotate 3s ease infinite\n      width 70%\n      height 70%\n      margin 15%\n      fill var(--white, #fff)\n\n.sw-update-popup-enter-active, .sw-update-popup-leave-active\n  transition opacity 0.3s, transform 0.3s\n\n.sw-update-popup-enter, .sw-update-popup-leave-to\n  opacity 0\n  transform translate(0, 50%) scale(0.5)\n</style>\n"]}]}