{"remainingRequest":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vuepress-theme-hope\\components\\ArticleList.vue?vue&type=script&lang=ts&","dependencies":[{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vuepress-theme-hope\\components\\ArticleList.vue","mtime":499162500000},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592788438647},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592788438647},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vue-loader\\lib\\index.js","mtime":1592788498951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIE1peGlucywgVnVlLCBXYXRjaCB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgQXJ0aWNsZUl0ZW0gZnJvbSAiQHRoZW1lL2NvbXBvbmVudHMvQXJ0aWNsZUl0ZW0udnVlIjsKaW1wb3J0IHsgQXJ0aWNsZU1peGluIH0gZnJvbSAiLi4vdXRpbC9hcnRpY2xlTWl4aW4iOwppbXBvcnQgTXlUcmFuc2l0aW9uIGZyb20gIkB0aGVtZS9jb21wb25lbnRzL015VHJhbnNpdGlvbi52dWUiOwppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICJAbXItaG9wZS92dWVwcmVzcy1wbHVnaW4tY29tcG9uZW50cy9zcmMvUGFnaW5hdGlvbi52dWUiOwppbXBvcnQgeyBQYWdlQ29tcHV0ZWQgfSBmcm9tICJAbXItaG9wZS92dWVwcmVzcy10eXBlcyI7CmltcG9ydCB7IFJvdXRlIH0gZnJvbSAidnVlLXJvdXRlciI7CmltcG9ydCB7IGRlZXBBc3NpZ24gfSBmcm9tICJAbXItaG9wZS92dWVwcmVzcy1zaGFyZWQtdXRpbHMiOwppbXBvcnQgeyBnZW5lcmF0ZVBhZ2luYXRpb24gfSBmcm9tICIuLi91dGlsL2FydGljbGUiOwoKQENvbXBvbmVudCh7IGNvbXBvbmVudHM6IHsgQXJ0aWNsZUl0ZW0sIE15VHJhbnNpdGlvbiwgUGFnaW5hdGlvbiB9IH0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFydGljbGVMaXN0IGV4dGVuZHMgTWl4aW5zKEFydGljbGVNaXhpbikgewogIC8qKiDlvZPliY3pobXpnaIgKi8KICBwcml2YXRlIGN1cnJlbnRQYWdlID0gMTsKCiAgLyoqIOaWh+eroOWIl+ihqCAqLwogIHByaXZhdGUgYXJ0aWNsZUxpc3Q6IFBhZ2VDb21wdXRlZFtdID0gW107CgogIC8qKiDljZrlrqLphY3nva4gKi8KICBwcml2YXRlIGdldCBibG9nQ29uZmlnKCkgewogICAgcmV0dXJuIHRoaXMuJHRoZW1lQ29uZmlnLmJsb2cgfHwge307CiAgfQoKICAvKiog5paH56ug5YiG6aG1ICovCiAgcHJpdmF0ZSBnZXQgJHBhZ2luYXRpb25BcnRpY2xlcygpOiBQYWdlQ29tcHV0ZWRbXVtdIHsKICAgIHJldHVybiBnZW5lcmF0ZVBhZ2luYXRpb24odGhpcy4kYXJ0aWNsZXMpOwogIH0KCiAgLyoqIOavj+mhteaWh+eroOaVsCAqLwogIHByaXZhdGUgZ2V0IGFydGljbGVQZXJQYWdlKCkgewogICAgcmV0dXJuIHRoaXMuYmxvZ0NvbmZpZy5wZXJQYWdlIHx8IDEwOwogIH0KCiAgLyoqIOW9k+WJjemhtemdoueahOaWh+eroCAqLwogIHByaXZhdGUgZ2V0IGFydGljbGVzKCkgewogICAgcmV0dXJuIHRoaXMuYXJ0aWNsZUxpc3Quc2xpY2UoCiAgICAgICh0aGlzLmN1cnJlbnRQYWdlIC0gMSkgKiB0aGlzLmFydGljbGVQZXJQYWdlLAogICAgICB0aGlzLmN1cnJlbnRQYWdlICogdGhpcy5hcnRpY2xlUGVyUGFnZQogICAgKTsKICB9CgogIC8qKiDmm7TmlrDmlofnq6DliJfooaggKi8KICBwcml2YXRlIGdldEFydGljbGVMaXN0KCkgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIHRoaXMuJHBhZ2luYXRpb24gPyB0aGlzLiRwYWdpbmF0aW9uLl9tYXRjaGVkUGFnZXMgOiB0aGlzLiRhcnRpY2xlczsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICByZXR1cm4gdGhpcy4kYXJ0aWNsZXM7CiAgICB9CiAgfQoKICBwcml2YXRlIG1vdW50ZWQoKSB7CiAgICB0aGlzLmFydGljbGVMaXN0ID0gdGhpcy5nZXRBcnRpY2xlTGlzdCgpOwogIH0KCiAgLyoqIOWcqOi3r+W+hOWPkeeUn+aUueWPmOaXtuabtOaWsOaWh+eroOWIl+ihqCAqLwogIEBXYXRjaCgiJHJvdXRlIikKICBwcml2YXRlIG9uUm91dGVVcGRhdGUodG86IFJvdXRlLCBmcm9tOiBSb3V0ZSkgewogICAgaWYgKHRvLnBhdGggIT09IGZyb20ucGF0aCkgewogICAgICB0aGlzLmFydGljbGVMaXN0ID0gdGhpcy5nZXRBcnRpY2xlTGlzdCgpOwogICAgICAvLyDlsIbpobXpnaLph43nva7kuLogMQogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgIH0KICB9CgogIEBXYXRjaCgiY3VycmVudFBhZ2UiKQogIHByaXZhdGUgb25QYWdlQ2hhbmdlKCkgewogICAgLy8g5rua5Yqo5Yiw5YiX6KGo6aG26YOoCiAgICBjb25zdCBkaXN0YW5jZSA9CiAgICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjYXJ0aWNsZSIpIGFzIEVsZW1lbnQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpCiAgICAgICAgLnRvcCArIHdpbmRvdy5zY3JvbGxZOwoKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgZGlzdGFuY2UpOwogICAgfSwgMTAwKTsKICB9Cn0K"},{"version":3,"sources":["ArticleList.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ArticleList.vue","sourceRoot":"node_modules/vuepress-theme-hope/components","sourcesContent":["<template>\n  <div id=\"article\" class=\"article-wrapper\">\n    <MyTransition v-for=\"(article, index) in articles\" :key=\"article.path\" :delay=\"index * 0.04\">\n      <ArticleItem :article=\"article\" />\n    </MyTransition>\n    <!-- 分页 -->\n    <Pagination v-model=\"currentPage\" :per-page=\"articlePerPage\" :total=\"articleList.length\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Mixins, Vue, Watch } from \"vue-property-decorator\";\nimport ArticleItem from \"@theme/components/ArticleItem.vue\";\nimport { ArticleMixin } from \"../util/articleMixin\";\nimport MyTransition from \"@theme/components/MyTransition.vue\";\nimport Pagination from \"@mr-hope/vuepress-plugin-components/src/Pagination.vue\";\nimport { PageComputed } from \"@mr-hope/vuepress-types\";\nimport { Route } from \"vue-router\";\nimport { deepAssign } from \"@mr-hope/vuepress-shared-utils\";\nimport { generatePagination } from \"../util/article\";\n\n@Component({ components: { ArticleItem, MyTransition, Pagination } })\nexport default class ArticleList extends Mixins(ArticleMixin) {\n  /** 当前页面 */\n  private currentPage = 1;\n\n  /** 文章列表 */\n  private articleList: PageComputed[] = [];\n\n  /** 博客配置 */\n  private get blogConfig() {\n    return this.$themeConfig.blog || {};\n  }\n\n  /** 文章分页 */\n  private get $paginationArticles(): PageComputed[][] {\n    return generatePagination(this.$articles);\n  }\n\n  /** 每页文章数 */\n  private get articlePerPage() {\n    return this.blogConfig.perPage || 10;\n  }\n\n  /** 当前页面的文章 */\n  private get articles() {\n    return this.articleList.slice(\n      (this.currentPage - 1) * this.articlePerPage,\n      this.currentPage * this.articlePerPage\n    );\n  }\n\n  /** 更新文章列表 */\n  private getArticleList() {\n    try {\n      return this.$pagination ? this.$pagination._matchedPages : this.$articles;\n    } catch (err) {\n      return this.$articles;\n    }\n  }\n\n  private mounted() {\n    this.articleList = this.getArticleList();\n  }\n\n  /** 在路径发生改变时更新文章列表 */\n  @Watch(\"$route\")\n  private onRouteUpdate(to: Route, from: Route) {\n    if (to.path !== from.path) {\n      this.articleList = this.getArticleList();\n      // 将页面重置为 1\n      this.currentPage = 1;\n    }\n  }\n\n  @Watch(\"currentPage\")\n  private onPageChange() {\n    // 滚动到列表顶部\n    const distance =\n      (document.querySelector(\"#article\") as Element).getBoundingClientRect()\n        .top + window.scrollY;\n\n    setTimeout(() => {\n      window.scrollTo(0, distance);\n    }, 100);\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.article-wrapper\n  margin-top - $navbarHeight - 0.5rem\n  padding-top $navbarHeight + 0.5rem\n</style>\n"]}]}