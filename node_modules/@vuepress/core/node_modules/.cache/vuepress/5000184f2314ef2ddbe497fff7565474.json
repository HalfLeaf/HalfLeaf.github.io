{"remainingRequest":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\@mr-hope\\vuepress-plugin-components\\src\\Pagination.vue?vue&type=script&lang=ts&","dependencies":[{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\@mr-hope\\vuepress-plugin-components\\src\\Pagination.vue","mtime":499162500000},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592788438647},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592788438647},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vue-loader\\lib\\index.js","mtime":1592788498951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCB7IENvbXBvbmVudCwgTW9kZWwsIFByb3AsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgeyBSb3V0ZSB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgeyBpMThuIH0gZnJvbSAiQG1yLWhvcGUvdnVlcHJlc3Mtc2hhcmVkLXV0aWxzIjsKCkBDb21wb25lbnQKZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnaW5hdGlvbiBleHRlbmRzIFZ1ZSB7CiAgQFByb3AoeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDEwIH0pCiAgLyoqIE51bWJlciBvZiB0b3RhbCBpdGVtcyAqLwogIHByaXZhdGUgcmVhZG9ubHkgdG90YWwhOiBudW1iZXI7CgogIEBQcm9wKHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAxMCB9KQogIC8qKiBJdGVtcyBwZXIgcGFnZSAqLwogIHByaXZhdGUgcmVhZG9ubHkgcGVyUGFnZSE6IG51bWJlcjsKCiAgQE1vZGVsKCJjaGFuZ2UiLCB7IHR5cGU6IE51bWJlciB9KQogIHByaXZhdGUgcmVhZG9ubHkgY3VycmVudFBhZ2UhOiBudW1iZXI7CgogIHByaXZhdGUgaW5wdXQgPSAiIjsKCiAgcHJpdmF0ZSBnZXQgdG90YWxQYWdlcygpIHsKICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy50b3RhbCAvIHRoaXMucGVyUGFnZSk7CiAgfQoKICBwcml2YXRlIGdldCBlbmFibGUoKSB7CiAgICByZXR1cm4gdGhpcy50b3RhbFBhZ2VzICYmIHRoaXMudG90YWxQYWdlcyAhPT0gMTsKICB9CgogIHByaXZhdGUgZ2V0IGRpc3BsYXlMZWZ0RWxsaXBzaXMoKSB7CiAgICBpZiAodGhpcy50b3RhbFBhZ2VzIDw9IDUpIHJldHVybiBmYWxzZTsKCiAgICByZXR1cm4gdGhpcy5jdXJyZW50UGFnZSA+IDQ7CiAgfQoKICBwcml2YXRlIGdldCBkaXNwbGF5UmlnaHRFbGxpcHNpcygpIHsKICAgIGlmICh0aGlzLnRvdGFsUGFnZXMgPD0gNSkgcmV0dXJuIGZhbHNlOwoKICAgIHJldHVybiB0aGlzLmN1cnJlbnRQYWdlIDw9IHRoaXMudG90YWxQYWdlcyAtIDM7CiAgfQoKICAvKiogUGFnZSBpbmRleHMgKi8KICBwcml2YXRlIGdldCBpbmRleHMoKSB7CiAgICBsZXQgbWluID0gMTsKICAgIGxldCBtYXggPSB0aGlzLnRvdGFsUGFnZXM7CiAgICBjb25zdCBhcnIgPSBbXTsKCiAgICBpZiAodGhpcy50b3RhbFBhZ2VzID49IDcpCiAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlID4gNCAmJiB0aGlzLmN1cnJlbnRQYWdlIDwgdGhpcy50b3RhbFBhZ2VzIC0gMykgewogICAgICAgIG1pbiA9IE51bWJlcih0aGlzLmN1cnJlbnRQYWdlKSAtIDI7CiAgICAgICAgbWF4ID0gTnVtYmVyKHRoaXMuY3VycmVudFBhZ2UpICsgMjsKICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRQYWdlIDw9IDQpIHsKICAgICAgICBtaW4gPSAxOwogICAgICAgIG1heCA9IDU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWF4ID0gdGhpcy50b3RhbFBhZ2VzOwogICAgICAgIG1pbiA9IHRoaXMudG90YWxQYWdlcyAtIDQ7CiAgICAgIH0KCiAgICAvLyBHZW5lcmF0ZSBwYWdlIGluZGV4CiAgICBmb3IgKGxldCBpID0gbWluOyBpIDw9IG1heDsgaSsrKSBhcnIucHVzaChpKTsKCiAgICByZXR1cm4gYXJyOwogIH0KCiAgcHJpdmF0ZSBnZXQgaTE4bigpIHsKICAgIHJldHVybiAoCiAgICAgIGkxOG4uZ2V0TG9jYWxlKHRoaXMuJGxhbmcpLnBhZ2luYXRpb24gfHwKICAgICAgaTE4bi5nZXREZWZhdWx0TG9jYWxlKCkucGFnaW5hdGlvbgogICAgKTsKICB9CgogIHByaXZhdGUgbW91bnRlZCgpIHsKICAgIGNvbnN0IHsgaW5kZXggfSA9IHRoaXMuJHJvdXRlLnF1ZXJ5OwoKICAgIHRoaXMubmF2aWdhdGUoaW5kZXggPyBOdW1iZXIoaW5kZXgpIDogMSk7CiAgfQoKICAvKiogTmF2aWdhdGUgdG8gY2VydGFpbiBwYWdlICovCiAgcHJpdmF0ZSBuYXZpZ2F0ZShpbmRleDogbnVtYmVyKSB7CiAgICBjb25zdCBwYXRoID0gYCR7dGhpcy4kcm91dGUucGF0aH0/aW5kZXg9JHtpbmRleH1gOwoKICAgIHRoaXMuJGVtaXQoImNoYW5nZSIsIGluZGV4KTsKICAgIGlmICh0aGlzLiRyb3V0ZS5mdWxsUGF0aCAhPT0gcGF0aCkgdGhpcy4kcm91dGVyLnB1c2gocGF0aCk7CiAgfQoKICAvKiogQ2hlY2sgYW5kIG5hdmlnYXRlIHRvIGNlcnRhaW4gcGFnZSAqLwogIHByaXZhdGUganVtcFBhZ2UoaW5kZXg6IHN0cmluZykgewogICAgY29uc3QgcGFnZU51bSA9IHBhcnNlSW50KGluZGV4KTsKCiAgICBpZiAocGFnZU51bSA8PSB0aGlzLnRvdGFsUGFnZXMgJiYgcGFnZU51bSA+IDApIHRoaXMubmF2aWdhdGUocGFnZU51bSk7CiAgICBlbHNlIHsKICAgICAgY29uc3QgZXJyb3JUZXh0ID0gdGhpcy5pMThuLmVycm9yVGV4dC5zcGxpdCgiJHBhZ2UiKTsKCiAgICAgIGFsZXJ0KGAke2Vycm9yVGV4dFswXX0ke3RoaXMudG90YWxQYWdlc30ke2Vycm9yVGV4dFsxXX1gKTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Pagination.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Pagination.vue","sourceRoot":"node_modules/@mr-hope/vuepress-plugin-components/src","sourcesContent":["<template>\n  <div v-if=\"enable\" class=\"pagination-wrapper\">\n    <div class=\"pagination-list\">\n      <div class=\"btn-group\">\n        <div\n          v-if=\"currentPage > 1\"\n          class=\"btn\"\n          role=\"navigation\"\n          unselectable=\"on\"\n          @click=\"navigate(currentPage - 1)\"\n        >{{i18n.prev}}</div>\n        <div v-if=\"displayLeftEllipsis\" role=\"navigation\" @click=\"navigate(1)\">1</div>\n        <div v-if=\"displayLeftEllipsis\" class=\"ellipsis\">...</div>\n        <div\n          v-for=\"num in indexs\"\n          :key=\"num\"\n          :class=\"{ active: currentPage === num }\"\n          role=\"navigation\"\n          @click=\"navigate(num)\"\n        >{{num}}</div>\n        <div v-if=\"displayRightEllipsis && currentPage < totalPages - 3\" class=\"ellipsis\">...</div>\n        <div\n          v-if=\"displayRightEllipsis && currentPage < totalPages - 3\"\n          role=\"navigation\"\n          @click=\"navigate(totalPages)\"\n        >{{totalPages}}</div>\n        <div\n          v-if=\"currentPage < totalPages\"\n          class=\"btn\"\n          role=\"navigation\"\n          @click=\"navigate(currentPage + 1)\"\n        >{{i18n.next}}</div>\n      </div>\n      <div class=\"navigate-wrapper\">\n        <div class=\"text\">{{i18n.navigate}}:&nbsp;</div>\n        <input v-model=\"input\" type=\"text\" @keypress.enter=\"jumpPage(input)\" />\n        <div class=\"navigate-button\" role=\"navigation\" @click=\"jumpPage(input)\">{{i18n.button}}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang='ts'>\nimport { Component, Model, Prop, Vue } from \"vue-property-decorator\";\nimport { Route } from \"vue-router\";\nimport { i18n } from \"@mr-hope/vuepress-shared-utils\";\n\n@Component\nexport default class Pagination extends Vue {\n  @Prop({ type: Number, default: 10 })\n  /** Number of total items */\n  private readonly total!: number;\n\n  @Prop({ type: Number, default: 10 })\n  /** Items per page */\n  private readonly perPage!: number;\n\n  @Model(\"change\", { type: Number })\n  private readonly currentPage!: number;\n\n  private input = \"\";\n\n  private get totalPages() {\n    return Math.ceil(this.total / this.perPage);\n  }\n\n  private get enable() {\n    return this.totalPages && this.totalPages !== 1;\n  }\n\n  private get displayLeftEllipsis() {\n    if (this.totalPages <= 5) return false;\n\n    return this.currentPage > 4;\n  }\n\n  private get displayRightEllipsis() {\n    if (this.totalPages <= 5) return false;\n\n    return this.currentPage <= this.totalPages - 3;\n  }\n\n  /** Page indexs */\n  private get indexs() {\n    let min = 1;\n    let max = this.totalPages;\n    const arr = [];\n\n    if (this.totalPages >= 7)\n      if (this.currentPage > 4 && this.currentPage < this.totalPages - 3) {\n        min = Number(this.currentPage) - 2;\n        max = Number(this.currentPage) + 2;\n      } else if (this.currentPage <= 4) {\n        min = 1;\n        max = 5;\n      } else {\n        max = this.totalPages;\n        min = this.totalPages - 4;\n      }\n\n    // Generate page index\n    for (let i = min; i <= max; i++) arr.push(i);\n\n    return arr;\n  }\n\n  private get i18n() {\n    return (\n      i18n.getLocale(this.$lang).pagination ||\n      i18n.getDefaultLocale().pagination\n    );\n  }\n\n  private mounted() {\n    const { index } = this.$route.query;\n\n    this.navigate(index ? Number(index) : 1);\n  }\n\n  /** Navigate to certain page */\n  private navigate(index: number) {\n    const path = `${this.$route.path}?index=${index}`;\n\n    this.$emit(\"change\", index);\n    if (this.$route.fullPath !== path) this.$router.push(path);\n  }\n\n  /** Check and navigate to certain page */\n  private jumpPage(index: string) {\n    const pageNum = parseInt(index);\n\n    if (pageNum <= this.totalPages && pageNum > 0) this.navigate(pageNum);\n    else {\n      const errorText = this.i18n.errorText.split(\"$page\");\n\n      alert(`${errorText[0]}${this.totalPages}${errorText[1]}`);\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.pagination-wrapper\n  font-weight 600\n  margin 1.25rem -0.5rem 0.75rem\n\n  .pagination-list\n    display flex\n    justify-content space-evenly\n    align-items center\n    -webkit-touch-callout none\n    user-select none\n    flex-wrap wrap\n\n    .btn-group\n      display flex\n      align-items stretch\n      margin 0 0.5em\n      border 1px solid var(--border-color, $borderColor)\n      border-radius 0.25em\n      overflow hidden\n\n      div\n        position relative\n        padding 5px 0.5em\n        font-size 14px\n        color var(--accent-color, $accentColor)\n        cursor pointer\n\n        &::before\n          content ' '\n          position absolute\n          top 0\n          left 0\n          bottom 0\n          width 1px\n          background-color var(--border-color, $borderColor)\n\n        &:first-child\n          &::before\n            background-color transparent\n\n        &:hover, &.active\n          background var(--accent-color, $accentColor)\n          color var(--white, #fff)\n\n          &::before\n            background-color var(--accent-color, $accentColor)\n\n        &.active + div, &:hover + div\n          &::before\n            background-color var(--accent-color, $accentColor)\n\n        &.active, &.ellipsis\n          cursor default\n\n    .navigate-wrapper\n      display flex\n      justify-content center\n      align-items center\n      margin 0 0.5em\n\n      div.text\n        font-size 14px\n\n      input\n        width 3.5em\n        height 1.5em\n        font-size 13px\n        border 1px solid var(--border-color, $borderColor)\n        border-radius 0.25em\n        outline none\n        text-align center\n        margin 6px 0\n        color var(--black, #000)\n        background-color var(--background-color, #fff)\n\n      .navigate-button\n        font-size 14px\n        margin-left 5px\n        padding 0.25em 0.5em\n        border 1px solid var(--border-color, $borderColor)\n        border-radius 0.25em\n        overflow hidden\n        cursor pointer\n\n        &:hover\n          color var(--white, #fff)\n          background var(--accent-color, $accentColor)\n          border-color var(--accent-color, $accentColor)\n</style>\n"]}]}