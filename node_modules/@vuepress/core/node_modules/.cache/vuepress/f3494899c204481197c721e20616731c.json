{"remainingRequest":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vuepress-theme-hope\\components\\ThemeOptions.vue?vue&type=style&index=0&lang=stylus&","dependencies":[{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vuepress-theme-hope\\components\\ThemeOptions.vue","mtime":499162500000},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\css-loader\\dist\\cjs.js","mtime":1592788458817},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1592788498960},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\postcss-loader\\src\\index.js","mtime":1592788480096},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\stylus-loader\\index.js","mtime":1592788491948},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592788438647},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vue-loader\\lib\\index.js","mtime":1592788498951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudGhlbWUtb3B0aW9ucwogIGZvbnQtc2l6ZSAxNHB4CgogIC50aGVtZWNvbG9yLXNlbGVjdAogICAgZGlzcGxheSBmbGV4CiAgICBqdXN0aWZ5LWNvbnRlbnQgc3BhY2UtYXJvdW5kCgogICAgbGFiZWwKICAgICAgcGFkZGluZy1yaWdodCA4cHgKCiAgICBsaQogICAgICAmOmZpcnN0LWNoaWxkCiAgICAgICAgbWFyZ2luLXJpZ2h0IDhweAoKICAgICAgYQogICAgICAgIHdpZHRoIDE1cHgKICAgICAgICBoZWlnaHQgMTVweAogICAgICAgIGJvcmRlci1yYWRpdXMgMnB4CiAgICAgICAgbWFyZ2luIDAgMnB4CgogICAgICAgICYuZGVmYXVsdC10aGVtZQogICAgICAgICAgYmFja2dyb3VuZC1jb2xvciAkYWNjZW50Q29sb3IgLy8gbXVzdCBiZSBmaXhlZCB0byB0aGUgb3JpZ2luYWwgYWNjZW50LWNvbG9yCgogIC5kYXJrbW9kZS10b2dnbGUKICAgIGRpc3BsYXkgZmxleAogICAgYWxpZ24taXRlbXMgY2VudGVyCiAgICBtYXJnaW4tdG9wIDhweAoKICAgIC5kZXNjCiAgICAgIGxpbmUtaGVpZ2h0IDEuNQogICAgICBwYWRkaW5nLXJpZ2h0IDhweAo="},{"version":3,"sources":["ThemeOptions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"ThemeOptions.vue","sourceRoot":"node_modules/vuepress-theme-hope/components","sourcesContent":["<template>\n  <div class=\"theme-options\">\n    <ul v-if=\"themeColorEnabled\" class=\"themecolor-select\">\n      <label for=\"themecolor-select\" v-text=\"`${text.themeColor}:`\" />\n      <li>\n        <a class=\"default-theme\" href=\"#\" @click.prevent=\"setTheme()\" />\n      </li>\n      <li v-for=\"color in themeColor.list\" :key=\"color\">\n        <a :style=\"{background: themeColor.picker[color]}\" href=\"#\" @click.prevent=\"setTheme(color)\" />\n      </li>\n    </ul>\n    <div v-if=\"switchEnabled\" class=\"darkmode-toggle\">\n      <label class=\"desc\" for=\"darkmode-toggle\" v-text=\"`${text.themeMode}:`\" />\n      <DarkmodeSwitch />\n      <ScreenFull />\n    </div>\n  </div>\n</template>\n\n<script lang='ts'>\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { dom, i18n } from \"@mr-hope/vuepress-shared-utils\";\nimport DarkmodeSwitch from \"@theme/components/DarkmodeSwitch.vue\";\n\n/** 默认颜色选择器 */\nconst defaultPicker: Record<string, string> = {\n  red: \"#e74c3c\",\n  blue: \"#3498db\",\n  green: \"#3eaf7c\",\n  orange: \"#f39c12\",\n  purple: \"#8e44ad\",\n};\n\ninterface ThemeColor {\n  /** 颜色列表 */\n  list: string[];\n  /** 颜色选择器 */\n  picker: Record<string, string>;\n}\n\n@Component({ components: { DarkmodeSwitch } })\nexport default class ThemeOptions extends Vue {\n  private themeColor = {} as ThemeColor;\n\n  private isDarkmode = false;\n\n  private get text() {\n    return (\n      i18n.getLocale(this.$lang).themeColor ||\n      i18n.getDefaultLocale().themeColor\n    );\n  }\n\n  private get themeColorEnabled() {\n    return this.$themeConfig.themeColor !== false;\n  }\n\n  private get switchEnabled() {\n    return (\n      this.$themeConfig.darkmode !== \"disable\" &&\n      this.$themeConfig.darkmode !== \"auto\"\n    );\n  }\n\n  private mounted() {\n    this.themeColor = {\n      list: this.$themeConfig.themeColor\n        ? Object.keys(this.$themeConfig.themeColor)\n        : Object.keys(defaultPicker),\n      picker: this.$themeConfig.themeColor || defaultPicker,\n    };\n    /** 所选主题 */\n    const theme = localStorage.getItem(\"theme\");\n    /** 获得类列表 */\n    const classes = document.body.classList;\n\n    if (theme) this.setTheme(theme);\n  }\n\n  /** 设置主题 */\n  private setTheme(theme?: string) {\n    const classes = document.body.classList;\n    const themes = this.themeColor.list.map(\n      (colorTheme) => `theme-${colorTheme}`,\n    );\n\n    if (!theme) {\n      localStorage.removeItem(\"theme\");\n      classes.remove(...themes);\n\n      return;\n    }\n\n    classes.remove(\n      ...themes.filter((themeclass) => themeclass !== `theme-${theme}`),\n    );\n\n    classes.add(`theme-${theme}`);\n    localStorage.setItem(\"theme\", theme);\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.theme-options\n  font-size 14px\n\n  .themecolor-select\n    display flex\n    justify-content space-around\n\n    label\n      padding-right 8px\n\n    li\n      &:first-child\n        margin-right 8px\n\n      a\n        width 15px\n        height 15px\n        border-radius 2px\n        margin 0 2px\n\n        &.default-theme\n          background-color $accentColor // must be fixed to the original accent-color\n\n  .darkmode-toggle\n    display flex\n    align-items center\n    margin-top 8px\n\n    .desc\n      line-height 1.5\n      padding-right 8px\n</style>\n"]}]}