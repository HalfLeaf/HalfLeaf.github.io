{"remainingRequest":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vuepress-theme-hope\\components\\ThemeOptions.vue?vue&type=script&lang=ts&","dependencies":[{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vuepress-theme-hope\\components\\ThemeOptions.vue","mtime":499162500000},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592788438647},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1592788438647},{"path":"E:\\myself\\githubPage\\HalfLeaf.github.io\\node_modules\\vue-loader\\lib\\index.js","mtime":1592788498951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgeyBkb20sIGkxOG4gfSBmcm9tICJAbXItaG9wZS92dWVwcmVzcy1zaGFyZWQtdXRpbHMiOwppbXBvcnQgRGFya21vZGVTd2l0Y2ggZnJvbSAiQHRoZW1lL2NvbXBvbmVudHMvRGFya21vZGVTd2l0Y2gudnVlIjsKCi8qKiDpu5jorqTpopzoibLpgInmi6nlmaggKi8KY29uc3QgZGVmYXVsdFBpY2tlcjogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHsKICByZWQ6ICIjZTc0YzNjIiwKICBibHVlOiAiIzM0OThkYiIsCiAgZ3JlZW46ICIjM2VhZjdjIiwKICBvcmFuZ2U6ICIjZjM5YzEyIiwKICBwdXJwbGU6ICIjOGU0NGFkIiwKfTsKCmludGVyZmFjZSBUaGVtZUNvbG9yIHsKICAvKiog6aKc6Imy5YiX6KGoICovCiAgbGlzdDogc3RyaW5nW107CiAgLyoqIOminOiJsumAieaLqeWZqCAqLwogIHBpY2tlcjogUmVjb3JkPHN0cmluZywgc3RyaW5nPjsKfQoKQENvbXBvbmVudCh7IGNvbXBvbmVudHM6IHsgRGFya21vZGVTd2l0Y2ggfSB9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBUaGVtZU9wdGlvbnMgZXh0ZW5kcyBWdWUgewogIHByaXZhdGUgdGhlbWVDb2xvciA9IHt9IGFzIFRoZW1lQ29sb3I7CgogIHByaXZhdGUgaXNEYXJrbW9kZSA9IGZhbHNlOwoKICBwcml2YXRlIGdldCB0ZXh0KCkgewogICAgcmV0dXJuICgKICAgICAgaTE4bi5nZXRMb2NhbGUodGhpcy4kbGFuZykudGhlbWVDb2xvciB8fAogICAgICBpMThuLmdldERlZmF1bHRMb2NhbGUoKS50aGVtZUNvbG9yCiAgICApOwogIH0KCiAgcHJpdmF0ZSBnZXQgdGhlbWVDb2xvckVuYWJsZWQoKSB7CiAgICByZXR1cm4gdGhpcy4kdGhlbWVDb25maWcudGhlbWVDb2xvciAhPT0gZmFsc2U7CiAgfQoKICBwcml2YXRlIGdldCBzd2l0Y2hFbmFibGVkKCkgewogICAgcmV0dXJuICgKICAgICAgdGhpcy4kdGhlbWVDb25maWcuZGFya21vZGUgIT09ICJkaXNhYmxlIiAmJgogICAgICB0aGlzLiR0aGVtZUNvbmZpZy5kYXJrbW9kZSAhPT0gImF1dG8iCiAgICApOwogIH0KCiAgcHJpdmF0ZSBtb3VudGVkKCkgewogICAgdGhpcy50aGVtZUNvbG9yID0gewogICAgICBsaXN0OiB0aGlzLiR0aGVtZUNvbmZpZy50aGVtZUNvbG9yCiAgICAgICAgPyBPYmplY3Qua2V5cyh0aGlzLiR0aGVtZUNvbmZpZy50aGVtZUNvbG9yKQogICAgICAgIDogT2JqZWN0LmtleXMoZGVmYXVsdFBpY2tlciksCiAgICAgIHBpY2tlcjogdGhpcy4kdGhlbWVDb25maWcudGhlbWVDb2xvciB8fCBkZWZhdWx0UGlja2VyLAogICAgfTsKICAgIC8qKiDmiYDpgInkuLvpopggKi8KICAgIGNvbnN0IHRoZW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRoZW1lIik7CiAgICAvKiog6I635b6X57G75YiX6KGoICovCiAgICBjb25zdCBjbGFzc2VzID0gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3Q7CgogICAgaWYgKHRoZW1lKSB0aGlzLnNldFRoZW1lKHRoZW1lKTsKICB9CgogIC8qKiDorr7nva7kuLvpopggKi8KICBwcml2YXRlIHNldFRoZW1lKHRoZW1lPzogc3RyaW5nKSB7CiAgICBjb25zdCBjbGFzc2VzID0gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3Q7CiAgICBjb25zdCB0aGVtZXMgPSB0aGlzLnRoZW1lQ29sb3IubGlzdC5tYXAoCiAgICAgIChjb2xvclRoZW1lKSA9PiBgdGhlbWUtJHtjb2xvclRoZW1lfWAsCiAgICApOwoKICAgIGlmICghdGhlbWUpIHsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInRoZW1lIik7CiAgICAgIGNsYXNzZXMucmVtb3ZlKC4uLnRoZW1lcyk7CgogICAgICByZXR1cm47CiAgICB9CgogICAgY2xhc3Nlcy5yZW1vdmUoCiAgICAgIC4uLnRoZW1lcy5maWx0ZXIoKHRoZW1lY2xhc3MpID0+IHRoZW1lY2xhc3MgIT09IGB0aGVtZS0ke3RoZW1lfWApLAogICAgKTsKCiAgICBjbGFzc2VzLmFkZChgdGhlbWUtJHt0aGVtZX1gKTsKICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0aGVtZSIsIHRoZW1lKTsKICB9Cn0K"},{"version":3,"sources":["ThemeOptions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ThemeOptions.vue","sourceRoot":"node_modules/vuepress-theme-hope/components","sourcesContent":["<template>\n  <div class=\"theme-options\">\n    <ul v-if=\"themeColorEnabled\" class=\"themecolor-select\">\n      <label for=\"themecolor-select\" v-text=\"`${text.themeColor}:`\" />\n      <li>\n        <a class=\"default-theme\" href=\"#\" @click.prevent=\"setTheme()\" />\n      </li>\n      <li v-for=\"color in themeColor.list\" :key=\"color\">\n        <a :style=\"{background: themeColor.picker[color]}\" href=\"#\" @click.prevent=\"setTheme(color)\" />\n      </li>\n    </ul>\n    <div v-if=\"switchEnabled\" class=\"darkmode-toggle\">\n      <label class=\"desc\" for=\"darkmode-toggle\" v-text=\"`${text.themeMode}:`\" />\n      <DarkmodeSwitch />\n      <ScreenFull />\n    </div>\n  </div>\n</template>\n\n<script lang='ts'>\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { dom, i18n } from \"@mr-hope/vuepress-shared-utils\";\nimport DarkmodeSwitch from \"@theme/components/DarkmodeSwitch.vue\";\n\n/** 默认颜色选择器 */\nconst defaultPicker: Record<string, string> = {\n  red: \"#e74c3c\",\n  blue: \"#3498db\",\n  green: \"#3eaf7c\",\n  orange: \"#f39c12\",\n  purple: \"#8e44ad\",\n};\n\ninterface ThemeColor {\n  /** 颜色列表 */\n  list: string[];\n  /** 颜色选择器 */\n  picker: Record<string, string>;\n}\n\n@Component({ components: { DarkmodeSwitch } })\nexport default class ThemeOptions extends Vue {\n  private themeColor = {} as ThemeColor;\n\n  private isDarkmode = false;\n\n  private get text() {\n    return (\n      i18n.getLocale(this.$lang).themeColor ||\n      i18n.getDefaultLocale().themeColor\n    );\n  }\n\n  private get themeColorEnabled() {\n    return this.$themeConfig.themeColor !== false;\n  }\n\n  private get switchEnabled() {\n    return (\n      this.$themeConfig.darkmode !== \"disable\" &&\n      this.$themeConfig.darkmode !== \"auto\"\n    );\n  }\n\n  private mounted() {\n    this.themeColor = {\n      list: this.$themeConfig.themeColor\n        ? Object.keys(this.$themeConfig.themeColor)\n        : Object.keys(defaultPicker),\n      picker: this.$themeConfig.themeColor || defaultPicker,\n    };\n    /** 所选主题 */\n    const theme = localStorage.getItem(\"theme\");\n    /** 获得类列表 */\n    const classes = document.body.classList;\n\n    if (theme) this.setTheme(theme);\n  }\n\n  /** 设置主题 */\n  private setTheme(theme?: string) {\n    const classes = document.body.classList;\n    const themes = this.themeColor.list.map(\n      (colorTheme) => `theme-${colorTheme}`,\n    );\n\n    if (!theme) {\n      localStorage.removeItem(\"theme\");\n      classes.remove(...themes);\n\n      return;\n    }\n\n    classes.remove(\n      ...themes.filter((themeclass) => themeclass !== `theme-${theme}`),\n    );\n\n    classes.add(`theme-${theme}`);\n    localStorage.setItem(\"theme\", theme);\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.theme-options\n  font-size 14px\n\n  .themecolor-select\n    display flex\n    justify-content space-around\n\n    label\n      padding-right 8px\n\n    li\n      &:first-child\n        margin-right 8px\n\n      a\n        width 15px\n        height 15px\n        border-radius 2px\n        margin 0 2px\n\n        &.default-theme\n          background-color $accentColor // must be fixed to the original accent-color\n\n  .darkmode-toggle\n    display flex\n    align-items center\n    margin-top 8px\n\n    .desc\n      line-height 1.5\n      padding-right 8px\n</style>\n"]}]}